\documentclass[10pt,twocolumn]{article}
\usepackage[margin=0.5in,columnsep=20pt]{geometry}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage{enumitem}
\usepackage{booktabs}
\usepackage{multicol}
\usepackage{fancyhdr}
\usepackage{tikz}
\usepackage{tcolorbox}

% Compact color scheme
\definecolor{primaryblue}{RGB}{52, 152, 219}
\definecolor{accentorange}{RGB}{230, 126, 34}
\definecolor{lightgray}{RGB}{236, 240, 241}
\definecolor{darkgray}{RGB}{52, 73, 94}

% Compact headers
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\small\textcolor{primaryblue}{\textbf{ML Quiz - Set {{ set_number }}}}}
\fancyhead[R]{% raw %}{\small\textcolor{darkgray}{\textbf{{% endraw %}{{ total_marks }}{% raw %} marks}}}{% endraw %}
\fancyfoot[C]{\small\textcolor{darkgray}{\thepage}}
\renewcommand{\headrulewidth}{1pt}

% Compact environments
\newtcolorbox{compactinstruction}{
  colback=lightgray,
  colframe=primaryblue,
  arc=2mm,
  boxsep=2pt,
  left=4pt,
  right=4pt,
  top=3pt,
  bottom=3pt
}

\newtcolorbox{compactmcq}{
  colback=white,
  colframe=primaryblue,
  arc=1mm,
  boxsep=1pt,
  left=3pt,
  right=3pt,
  top=2pt,
  bottom=2pt
}

\newtcolorbox{compactsubjective}{
  colback=white,
  colframe=accentorange,
  arc=1mm,
  boxsep=1pt,
  left=3pt,
  right=3pt,
  top=2pt,
  bottom=2pt
}

% Compact spacing
\setlength{\parindent}{0pt}
\setlength{\parskip}{2pt}

\begin{document}

% Compact title
\begin{center}
\textcolor{primaryblue}{\large\textbf{Machine Learning Quiz - Set {{ set_number }}}}\\
\textcolor{darkgray}{% raw %}{\small Total Marks: {% endraw %}{{ total_marks }}{% raw %}}{% endraw %}
\end{center}

% Compact instructions
\begin{compactinstruction}
\textcolor{darkgray}{\small\textbf{Instructions:}}
\begin{itemize}[leftmargin=15pt, itemsep=1pt, parsep=0pt]
  \item \textcolor{darkgray}{\small Answer all questions. Show work for subjective questions.}
  \item \textcolor{darkgray}{\small MCQ: Circle correct option. Subjective: Provide detailed solutions.}  
  \item \textcolor{darkgray}{\small MCQ ({{ mcq_marks }} marks) + Subjective ({{ subjective_marks }} marks) = {{ total_marks }} marks}
\end{itemize}
\end{compactinstruction}

\vspace{4pt}

{% if mcq_questions %}
\textcolor{primaryblue}{\textbf{Multiple Choice Questions}}
\vspace{2pt}

{% for question in mcq_questions %}
\begin{compactmcq}
\textcolor{primaryblue}{\small\textbf{Q{{ loop.index }}}} \hfill \textcolor{accentorange}{\small\textbf{[{{ question.marks }} marks]}}

\small {{ question.question }}

\vspace{2pt}
\begin{multicols}{2}
\begin{enumerate}[label=\textbf{(\Alph*)}, leftmargin=15pt, itemsep=1pt, parsep=0pt]
{% for option in question.options %}
  \item \textcolor{darkgray}{\small {{ option }}}
{% endfor %}
\end{enumerate}
\end{multicols}
\end{compactmcq}
\vspace{2pt}
{% endfor %}

\vspace{4pt}
{% endif %}

{% if subjective_questions %}
\textcolor{accentorange}{\textbf{Subjective Questions}}
\vspace{2pt}

{% for question in subjective_questions %}
\begin{compactsubjective}
\textcolor{primaryblue}{\small\textbf{Q{{ loop.index + mcq_questions|length }}}} \hfill \textcolor{accentorange}{\small\textbf{[{{ question.marks }} marks]}}

\small {{ question.question }}

\vspace{4pt}
\rule{\linewidth}{0.3pt}
\vspace{4pt}
\rule{\linewidth}{0.3pt}
\vspace{4pt}
\rule{\linewidth}{0.3pt}
\end{compactsubjective}
\vspace{3pt}
{% endfor %}
{% endif %}

% Compact footer
\vfill
\begin{center}
  \textcolor{darkgray}{\tiny Generated with Setwise Quiz Generator}
\end{center}

\end{document}